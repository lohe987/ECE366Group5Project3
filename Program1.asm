SAR 3 #R3 IS ACTIVE
LOAD 0 #R3=P

SAR 5 #R5 IS ACTIVE
MOVI 1 #R5=1
SAR 4
LOAD 5 #R4=MEM[1]=Q

SAR 5 
MOVI 3 #R5=3
ADDI 3 #R5=6

MAIN:
SAR 6
MOVI 3
ADDI 1
SAR 0
MOVI 0
SJL 6 #RP=4
SAR 3
BSLT 1 #branch out if P<counter
SAR 1
ADDI 1 #R1=COUNTER++
SAR 6
MOVI 2 #R6=2
SAR 0
MOVI 0
SJL 6 #RP=2
SAR 6
BSLT 1
MULT:
SAR 2
MLT 5
SAR 6
MOVI 3
SAR 0
MOVI 0
SJL 6 #RP=3
SAR 7
MOVI 1
B
MULTI:
SAR 2
MOVI 3
ADDI 3
MOD:
SAR 6
MOVI 0
SAR 0
MOVI 0
SJL 6 #RP=0
SAR 2
SUB 4
SAR 6
MOVI 3
SAR 0
MOVI 0
SJL 6 #RP=3
B
DONE:
SAR 0
MOVI 2
SAR 2
STOR 0
STOP

